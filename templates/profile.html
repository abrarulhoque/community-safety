{% extends "base.html" %} {% block head_extra %}
<!-- Custom styles for this page -->
<style>
  /* Timeline styling */
  .timeline {
    position: relative;
    padding-left: 30px;
  }

  .timeline:before {
    content: '';
    position: absolute;
    top: 0;
    left: 15px;
    height: 100%;
    width: 2px;
    background-color: #e9e9e9;
  }

  .timeline-item {
    margin-bottom: 25px;
    position: relative;
  }

  .timeline-marker {
    position: absolute;
    left: -30px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .timeline-content {
    padding-left: 10px;
  }

  /* List group active color */
  .list-group-item.active {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
  }
</style>
{% endblock %} {% block content %}
<!-- Profile Section -->
<section class="py-5 mt-5 bg-light">
  <div class="container py-5">
    <div class="row">
      <div class="col-lg-3 mb-4">
        <div class="card border-0 shadow-sm">
          <div class="card-body text-center">
            <div
              class="position-relative mb-3 mx-auto"
              style="width: 120px; height: 120px"
            >
              <img
                src="https://via.placeholder.com/120/1a3a6e/ffffff?text={{
                  user.first_name[0]
                }}{{ user.last_name[0] }}"
                class="rounded-circle w-100 h-100"
                alt="Profile Picture"
              />
              <button
                class="btn btn-sm btn-primary position-absolute bottom-0 end-0 rounded-circle"
              >
                <i class="material-icons small">edit</i>
              </button>
            </div>
            <h5 class="mb-1">{{ user.first_name }} {{ user.last_name }}</h5>
            <p class="text-muted small">{{ user.account_type }}</p>
            <div class="d-grid gap-2">
              <a href="#" class="btn btn-outline-primary btn-sm"
                >Change Password</a
              >
            </div>
          </div>
        </div>
        <div class="list-group mt-4 shadow-sm">
          <a
            href="#personal-info"
            class="list-group-item list-group-item-action active"
          >
            Personal Information
          </a>
          <a
            href="#contact-preferences"
            class="list-group-item list-group-item-action"
          >
            Contact Preferences
          </a>
          <a
            href="#address-info"
            class="list-group-item list-group-item-action"
          >
            Address Information
          </a>
          <a
            href="#activity-history"
            class="list-group-item list-group-item-action"
          >
            Activity History
          </a>
        </div>
      </div>
      <div class="col-lg-9">
        <!-- Personal Information -->
        <div id="personal-info" class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white py-3">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-0">Personal Information</h5>
              <button class="btn btn-sm btn-outline-primary">Edit</button>
            </div>
          </div>
          <div class="card-body">
            <form>
              <div class="row mb-3">
                <div class="col-md-6 mb-3 mb-md-0">
                  <label class="form-label">First Name</label>
                  <input
                    type="text"
                    class="form-control"
                    value="{{ user.first_name }}"
                    disabled
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Last Name</label>
                  <input
                    type="text"
                    class="form-control"
                    value="{{ user.last_name }}"
                    disabled
                  />
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-6 mb-3 mb-md-0">
                  <label class="form-label">Email Address</label>
                  <input
                    type="email"
                    class="form-control"
                    value="{{ user.email }}"
                    disabled
                  />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Phone Number</label>
                  <input
                    type="tel"
                    class="form-control"
                    value="{{ user.phone_number if user.phone_number else 'Not provided' }}"
                    disabled
                  />
                </div>
              </div>
              <div class="mb-3">
                <label class="form-label">Account Type</label>
                <input
                  type="text"
                  class="form-control"
                  value="{{ user.account_type }}"
                  disabled
                />
              </div>
            </form>
          </div>
        </div>

        <!-- Contact Preferences -->
        <div id="contact-preferences" class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white py-3">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-0">Contact Preferences</h5>
              <button class="btn btn-sm btn-outline-primary">Edit</button>
            </div>
          </div>
          <div class="card-body">
            <form>
              <div class="mb-3">
                <label class="form-label">Notification Methods</label>
                <div class="form-check mb-2">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="emailNotif"
                    checked
                    disabled
                  />
                  <label class="form-check-label" for="emailNotif">
                    Email Notifications
                  </label>
                </div>
                <div class="form-check mb-2">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="smsNotif"
                    checked
                    disabled
                  />
                  <label class="form-check-label" for="smsNotif">
                    SMS Notifications
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="appNotif"
                    checked
                    disabled
                  />
                  <label class="form-check-label" for="appNotif">
                    In-app Notifications
                  </label>
                </div>
              </div>
              <div class="mb-3">
                <label class="form-label">Notification Preferences</label>
                <div class="form-check mb-2">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="incidentNotif"
                    checked
                    disabled
                  />
                  <label class="form-check-label" for="incidentNotif">
                    New incidents in my area
                  </label>
                </div>
                <div class="form-check mb-2">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="updateNotif"
                    checked
                    disabled
                  />
                  <label class="form-check-label" for="updateNotif">
                    Updates on reported incidents
                  </label>
                </div>
                <div class="form-check mb-2">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="alertNotif"
                    checked
                    disabled
                  />
                  <label class="form-check-label" for="alertNotif">
                    Community safety alerts
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="newsNotif"
                    disabled
                  />
                  <label class="form-check-label" for="newsNotif">
                    Community news and updates
                  </label>
                </div>
              </div>
            </form>
          </div>
        </div>

        <!-- Address Information -->
        <div id="address-info" class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white py-3">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-0">Address Information</h5>
              <button class="btn btn-sm btn-outline-primary">Edit</button>
            </div>
          </div>
          <div class="card-body">
            <form>
              <div class="mb-3">
                <label class="form-label">Address</label>
                <input
                  type="text"
                  class="form-control"
                  value="{{ user.address if user.address else 'Not provided' }}"
                  disabled
                />
              </div>
            </form>
          </div>
        </div>

        <!-- Activity History -->
        <div id="activity-history" class="card border-0 shadow-sm">
          <div class="card-header bg-white py-3">
            <h5 class="mb-0">Activity History</h5>
          </div>
          <div class="card-body">
            <div class="timeline">
              {% if user.incidents.count() > 0 %}
              <div class="timeline-item">
                <div class="timeline-marker bg-primary">
                  <i class="material-icons small text-white">report_problem</i>
                </div>
                <div class="timeline-content">
                  <h6 class="mb-0">Reported an Incident</h6>
                  <p class="text-muted small mb-0">
                    {{ user.incidents[0].incident_type }} at
                    {{ user.incidents[0].location_address }}
                  </p>
                  <p class="text-muted small">
                    {{ user.incidents[0].reported_on.strftime('%B %d, %Y') }}
                  </p>
                </div>
              </div>
              {% endif %} {% if user.cameras.count() > 0 %}
              <div class="timeline-item">
                <div class="timeline-marker bg-success">
                  <i class="material-icons small text-white">videocam</i>
                </div>
                <div class="timeline-content">
                  <h6 class="mb-0">Registered a Camera</h6>
                  <p class="text-muted small mb-0">
                    {{ user.cameras[0].camera_name if user.cameras[0].camera_name else 'Security camera' }}
                  </p>
                  <p class="text-muted small">
                    {{ user.cameras[0].registered_on.strftime('%B %d, %Y') }}
                  </p>
                </div>
              </div>
              {% endif %}

              <div class="timeline-item">
                <div class="timeline-marker bg-info">
                  <i class="material-icons small text-white">person</i>
                </div>
                <div class="timeline-content">
                  <h6 class="mb-0">Account Created</h6>
                  <p class="text-muted small mb-0">
                    Welcome to Community Safety!
                  </p>
                  <p class="text-muted small">
                    {{ user.registered_on.strftime('%B %d, %Y') }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
